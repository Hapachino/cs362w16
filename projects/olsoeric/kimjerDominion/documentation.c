adventurer card is in dominion.c line 670. It lets the player to draw the next two treasure cards in his deck. If it is not a treasure card that is drawn, it is discarded. In the cardEffect(...) function, which is called inside playCard(...), the int drawntreasure is initialized to 0. If the player has an adventure card, cards are drawn from the deck, discarding non-treasure cards, and adding the next two treasure cards in the player's hand. Each time a treasure card is drawn, the drawntreasure is incremented. Once drawntreasure reaches the limit, 2, the drawing from the deck is terminated. Information about the player and the player's deck is stored in the struct state. 

The smithy card on line 831 draws the next three cards in the deck and puts them in the player's hand using drawCard(...). Then the card is discarded and put into the played pile using discardCard(...). Inside the discardCard(...), the significance of the played property of the gameState object is not clear. It seems that its purpose is to keep track of what cards are played during the course of the game and is used, within dominion.c, in only one other place, that is, inside the code of the tribute card. The drawCard function checks to see whether or not the card is to be trashed. If so, the card is not added to the played pile. Then it goes through a series of conditional statements. The first if-else statement assumes that the last card will be the card that is to be discarded and redundancy could've been achieved by combining them into one conditional statement. The final else statement checks for any other state that the player's hand could be, although under what circumstances that would be is not clear.   

The updateCoins method sets the value of money that the player has from his treasure cards after he first draws cards for his hand. Arguments are the player number whose turn it is, the gamestate to access the player information, and any coin bonuses. The loop that goes through each card contains conditional statements that check to see if it is either copper, silver or gold. Under these conditions the statement that is executed is to add the value of the coin to the player's money property via the gamestate. The bonus coins, if any, is added before termination. 